(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f60adf4"],{"0c8f":function(e,t,s){"use strict";s("4990")},4990:function(e,t,s){},abe4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAABcSURBVBiVjdBRDQAhCIBhI1wUIxnFBkYwghEughEughF+X3RjHio8MeDbAAdUIDhjABH4ZoIFi9k4C/mGf0g0thgIKlKwV1C63VGABniB8hEN+IxPNzNa8HtarwMEvZgb/RcdHgAAAABJRU5ErkJggg=="},e2c3:function(e,t,s){"use strict";s.r(t);var a=s("7a23"),n=s("cac3"),c=s.n(n),r=s("ea90"),i=s.n(r),o=s("abe4"),l=s.n(o);const d={class:"mintbox content"},h={class:"logo"},b={class:"lianjie"},u={key:0},m={key:1},g={key:2,class:"quan"},j=Object(a["m"])("img",{src:i.a,alt:"",srcset:""},null,-1),p=[j],O={class:"addressBox"},A={class:"btns"},f={class:"title"},w={key:0,class:"input"},k=["value"],v={key:1,class:"inputs"},y={class:"blackBox",style:{width:"30%","margin-right":"10px"}},L={class:"blackBox",style:{width:"70%",display:"flex","align-items":"center","justify-content":"space-between","padding-right":"20px"}},M={style:{display:"flex","align-items":"center"}},x=Object(a["m"])("span",{class:"xian"},null,-1),B={class:"num"},C=Object(a["m"])("img",{style:{width:"8px","margin-left":"5px"},src:l.a,alt:"",srcset:""},null,-1),I=["onClick"],H=["onClick"],S={key:0,class:"sureBtn",style:{"background-color":"darkgray"}},Q={key:3,class:"sureBtn",style:{"background-color":"darkgray"}},W={key:4,class:"sureBtn",style:{"background-color":"darkgray"}},E={key:5,class:"sureBtn",style:{"background-color":"darkgray"}},U=Object(a["m"])("div",{class:"lineBox"},[Object(a["m"])("div",{class:"line"}),Object(a["m"])("span",null,"Welcome to PMM")],-1),F={class:"descBox",style:{"min-height":"350px"}},D={class:"jihuo"},N={key:0,class:"name"},R={key:1,class:"name"},Z={key:2,class:"numberBox"};function q(e,t,s,n,r,i){const o=Object(a["N"])("a-menu-item"),l=Object(a["N"])("a-menu"),j=Object(a["N"])("a-dropdown"),q=Object(a["N"])("tab"),V=Object(a["N"])("lang");return Object(a["H"])(),Object(a["l"])("div",d,[Object(a["m"])("div",h,[Object(a["m"])("img",{class:"logoImg",onClick:t[0]||(t[0]=e=>r.lanageShow=!0),src:c.a,alt:"",srcset:""}),Object(a["m"])("div",b,[r.userAddress?Object(a["k"])("",!0):(Object(a["H"])(),Object(a["l"])("span",u,Object(a["Q"])(r.Language[r.selectLan]["连接"]),1)),r.userAddress?(Object(a["H"])(),Object(a["l"])("span",m,Object(a["Q"])(r.userAddress.substring(0,10)+"..."+r.userAddress.substring(36)),1)):Object(a["k"])("",!0),r.userAddress?Object(a["k"])("",!0):(Object(a["H"])(),Object(a["l"])("div",g,p))])]),Object(a["m"])("div",O,[Object(a["m"])("div",A,[Object(a["m"])("span",{onClick:t[1]||(t[1]=e=>r.activeIndex=0),class:Object(a["y"])(0==r.activeIndex?"active":"")},Object(a["Q"])(r.Language[r.selectLan]["激活白名单"]),3),Object(a["m"])("span",{onClick:t[2]||(t[2]=e=>r.activeIndex=1),class:Object(a["y"])(1==r.activeIndex?"active":"")},Object(a["Q"])(r.Language[r.selectLan]["铸造"]),3)]),Object(a["m"])("div",f,Object(a["Q"])(r.Language[r.selectLan]["绑定推荐地址"])+"：",1),0==r.activeIndex?(Object(a["H"])(),Object(a["l"])("div",w,[0!=r.activeIndex||r.getrefMap[0]==r.address0&&r.userAddress!=r.param[4]?Object(a["ab"])((Object(a["H"])(),Object(a["l"])("input",{key:1,type:"text",class:"mintInput","onUpdate:modelValue":t[3]||(t[3]=e=>r.bandAddress=e)},null,512)),[[a["V"],r.bandAddress]]):(Object(a["H"])(),Object(a["l"])("input",{key:0,type:"text",class:"mintInput",disabled:"",value:r.getrefMap[0]},null,8,k))])):Object(a["k"])("",!0),1==r.activeIndex?(Object(a["H"])(),Object(a["l"])("div",v,[Object(a["m"])("div",y,Object(a["Q"])(r.getrefMap[0]!=r.address0?r.Language[r.selectLan]["白名单"]:r.Language[r.selectLan]["未激活"]),1),Object(a["m"])("div",L,[Object(a["m"])("div",M,[Object(a["p"])(Object(a["Q"])(r.Language[r.selectLan]["可铸造数量"])+" ",1),x]),Object(a["m"])("span",B,[Object(a["q"])(j,null,Object(a["n"])({default:Object(a["Z"])(()=>[Object(a["m"])("div",{class:"ant-dropdown-link",onClick:t[4]||(t[4]=Object(a["bb"])(()=>{},["prevent"]))},[Object(a["p"])(Object(a["Q"])(r.mintAmount)+" ",1),C])]),_:2},[r.getrefMap3[2]>0?{name:"overlay",fn:Object(a["Z"])(()=>[Object(a["q"])(l,null,{default:Object(a["Z"])(()=>[(Object(a["H"])(!0),Object(a["l"])(a["b"],null,Object(a["M"])(r.mintAmounts0,(e,t)=>(Object(a["H"])(),Object(a["j"])(o,null,{default:Object(a["Z"])(()=>[Object(a["m"])("span",{onClick:t=>i.changeMintAmount(e)},Object(a["Q"])(e),9,I)]),_:2},1024))),256))]),_:1})]),key:"0"}:void 0,0==r.getrefMap3[2]?{name:"overlay",fn:Object(a["Z"])(()=>[Object(a["q"])(l,null,{default:Object(a["Z"])(()=>[(Object(a["H"])(!0),Object(a["l"])(a["b"],null,Object(a["M"])(r.mintAmounts,(e,t)=>(Object(a["H"])(),Object(a["j"])(o,null,{default:Object(a["Z"])(()=>[Object(a["m"])("span",{onClick:t=>i.changeMintAmount(e)},Object(a["Q"])(e),9,H)]),_:2},1024))),256))]),_:1})]),key:"1"}:void 0]),1024)])])])):Object(a["k"])("",!0)]),0!=r.activeIndex||r.getrefMap[0]==r.address0&&r.userAddress!=r.param[4]?Object(a["k"])("",!0):(Object(a["H"])(),Object(a["l"])("div",S,Object(a["Q"])(r.Language[r.selectLan]["已绑定"]),1)),0==r.activeIndex&&r.getrefMap[0]==r.address0&&r.userAddress!=r.param[4]?(Object(a["H"])(),Object(a["l"])("div",{key:1,class:"sureBtn",onClick:t[5]||(t[5]=(...e)=>i.band&&i.band(...e))},Object(a["Q"])(r.Language[r.selectLan]["绑定"]),1)):Object(a["k"])("",!0),1==r.activeIndex&&0==r.getrefMap[4]&&0==r.getrefMap2[5]&&r.mintEnable<=2&&r.getrefMap[0]!=r.address0?(Object(a["H"])(),Object(a["l"])("div",{key:2,class:"sureBtn",onClick:t[6]||(t[6]=e=>i.mint())},Object(a["Q"])(r.Language[r.selectLan]["铸造"]),1)):Object(a["k"])("",!0),1==r.activeIndex&&(0!=r.getrefMap[4]||0!=r.getrefMap2[5])&&r.mintEnable<=2&&r.getrefMap[0]!=r.address0?(Object(a["H"])(),Object(a["l"])("div",Q,Object(a["Q"])(r.Language[r.selectLan]["我已铸造"]),1)):Object(a["k"])("",!0),1==r.activeIndex&&r.mintEnable<=2&&r.getrefMap[0]==r.address0?(Object(a["H"])(),Object(a["l"])("div",W,Object(a["Q"])(r.Language[r.selectLan]["未绑定"]),1)):Object(a["k"])("",!0),1==r.activeIndex&&r.mintEnable>2?(Object(a["H"])(),Object(a["l"])("div",E,Object(a["Q"])(r.Language[r.selectLan]["已铸造完成"]),1)):Object(a["k"])("",!0),r.getrefMap3[1]>0&&r.mintEnable<4?(Object(a["H"])(),Object(a["l"])("div",{key:6,class:"sureBtn",onClick:t[7]||(t[7]=(...e)=>i.divieBnb&&i.divieBnb(...e))},Object(a["Q"])(r.Language[r.selectLan]["领取推荐奖励"])+"："+Object(a["Q"])(r.getrefMap3[1])+"BNB",1)):Object(a["k"])("",!0),U,Object(a["m"])("div",F,[Object(a["m"])("div",D,[r.getrefMap[0]!=r.address0||r.userAddress==r.param[4]?(Object(a["H"])(),Object(a["l"])("div",N,Object(a["Q"])(r.Language[r.selectLan]["自身已激活"]),1)):Object(a["k"])("",!0),r.getrefMap[0]==r.address0&&r.userAddress!=r.param[4]?(Object(a["H"])(),Object(a["l"])("div",R,Object(a["Q"])(r.Language[r.selectLan]["自身未激活"]),1)):Object(a["k"])("",!0),r.getrefMap[0]!=r.address0||r.userAddress==r.param[4]?(Object(a["H"])(),Object(a["l"])("div",Z,[Object(a["m"])("span",null,Object(a["Q"])(r.shareUrl+"?..."),1),Object(a["m"])("span",{onClick:t[8]||(t[8]=(...e)=>i.copyUrl&&i.copyUrl(...e))},Object(a["Q"])(r.Language[r.selectLan]["复制URL"]),1)])):Object(a["k"])("",!0)])]),Object(a["q"])(q,{pageActive:2}),r.lanageShow?(Object(a["H"])(),Object(a["j"])(V,{key:7,Language:r.Language,onCheckClose:i.checkClose,selectLan:r.selectLan,onSelectLanague:i.selectLanague},null,8,["Language","onCheckClose","selectLan","onSelectLanague"])):Object(a["k"])("",!0)])}var V=s("c0d8"),_=s.n(V),J=s("aee1"),P=s("f64c"),T=s("694c"),z=s("9fdc"),G=s("c2c4"),K=s("c9d9"),$={components:{tab:z["a"],lang:K["a"]},data(){return{activeIndex:0,defaultProps:{children:"children",label:"label"},contractAddress:"0x1a1f03eca72e3e7dd15419e4e502d52f926c4e8b",networkId:56,mintAmounts:[.1,.2],mintAmounts0:[.3],userAddress:"",dataStat:[0,0,0,0,0,0,0,0,0,0,0],tokenName:"PMM",mintAmount:0,price:0,mintEnable:0,loaded:!1,dataStat2:[0,0,0,0,0,0,0,0],dataStat3:[this.address0,this.address0,this.address0,0,0,0],getrefMap:[this.address0,0,0,0,0,0,0],getrefMap2:[0,0,0],param:[0,0,0,this.address0,this.address0,0,0,0,0,0],address0:"0x0000000000000000000000000000000000000000",getrefMap3:[0,0,0],exchangeAmount:0,data2:{},minTransferCount:0,bnbBalance:0,web3:{},tokenBalance:0,bandAddress:"",burnAmount:0,times:3,burnAmountR:0,Language:T,selectLan:"en",lanageShow:!1,shareUrl:"https://bscpmmbox.github.io/pmm"}},created(){localStorage.getItem("language")&&(this.selectLan=localStorage.getItem("language")),this.$route.query.pid&&(this.bandAddress=this.$route.query.pid),this.connectBSC();let e=this;this.interval=setInterval((function(){e.loadData()}),15e3)},destroyed(){this.interval&&clearInterval(this.interval)},methods:{checkClose(e){this.lanageShow=!1},selectLanague(e){this.selectLan=e,this.lanageShow=!1,localStorage.setItem("language",this.selectLan)},changeMintAmount(e){this.mintAmount=e},copyUrl(){var e=document.createElement("textarea");e.style.position="fixed",e.style.opacity=0,e.value=this.shareUrl+"?pid="+this.userAddress,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),P["a"].success("success copy")},async burn(){if(!this.burnAmount)return void P["a"].error("please enter amount!");if(parseFloat(this.burnAmount+"")>this.tokenBalance)return void P["a"].error("balance is not enough");if(parseFloat(this.burnAmount+"")<this.minTransferCount)return void P["a"].error("need "+this.minTransferCount);const e=this.web3.utils.toWei(this.burnAmount+"","ether");this.contract.methods.burn(e).send({from:this.userAddress}).on("transactionHash",e=>{P["a"].success("submit success"),console.log("交易哈希:",e)}).on("receipt",e=>{console.log("交易收据:",e),P["a"].success("transaction success"),this.loadData()}).on("error",e=>{console.error("交易失败:",e)})},maxBurn(){this.burnAmount=this.tokenBalance},back(){this.$router.replace("/?notTo=1")},async band(){if(!this.bandAddress||this.bandAddress.length<42)P["a"].error("please enter valid address!");else if(this.bandAddress.toLowerCase()!=this.userAddress){if(this.bandAddress.toLowerCase()!=this.param[4].toLowerCase()){let e=await this.contract.methods.getrefMap(this.bandAddress).call({});if(e[0]==this.address0)return void P["a"].error("please enter valid address!")}this.contract.methods.band(this.bandAddress).send({from:this.userAddress}).on("transactionHash",e=>{P["a"].success("submit success"),console.log("交易哈希:",e)}).on("receipt",e=>{console.log("交易收据:",e),P["a"].success("transaction success"),this.loadData()}).on("error",e=>{console.error("交易失败:",e)})}else P["a"].error("address error")},async divieBnb(){this.contract.methods.divieBnb().send({from:this.userAddress}).on("transactionHash",e=>{P["a"].success("submit success"),console.log("交易哈希:",e)}).on("receipt",e=>{console.log("交易收据:",e),P["a"].success("transaction success"),this.loadData()}).on("error",e=>{console.error("交易失败:",e)})},mint(){if(!this.mintAmount)return void P["a"].error("please select amount!");if(1==this.getrefMap2[1]){if(parseFloat(this.mintAmount)>this.param[6])return void P["a"].error("mint max "+this.param[6]);if(this.mintAmount>this.param[2]||this.mintAmount<this.param[1])return void P["a"].error("mint "+this.param[1]+"-"+this.param[2]);if(parseFloat(this.getrefMap[4])+parseFloat(this.mintAmount)>this.param[2])return void P["a"].error("mint max "+this.param[2])}console.log(this.mintAmount,"this.mintAmount");const e=this.web3.utils.toWei(this.mintAmount+"","ether");this.web3.eth.sendTransaction({from:this.userAddress,to:this.contractAddress,value:e},(e,t)=>{e?console.error(e):(P["a"].success("success!"),this.loadData(),console.log(t))})},max(){this.mintAmount=this.param[2]-this.getrefMap[4]},async connectBSC(){let e=this;if(window.ethereum)try{window.ethereum.on("accountsChanged",(function(t){console.log("change address:",t[0]),e.connectBSC()})),console.log(window.ethereum,"window.ethereum");const t=await window.ethereum.request({method:"eth_requestAccounts"});console.log(t,"accounts"),this.web3=new _.a(window.ethereum),this.userAddress=t[0].toLowerCase();let s=await this.web3.eth.getBalance(this.userAddress);this.bnbBalance=this.web3.utils.fromWei(s,"ether"),console.log(J,"MyContractABI");const a=await this.web3.eth.net.getId();a!=this.networkId&&P["a"].error("err network，please select BNB chain"),this.contract=new this.web3.eth.Contract(J,this.contractAddress),this.connected=!0,this.loadData()}catch(t){console.error(t)}},async loadData(){if(this.contract)try{this.loaded||G["a"].show("Loading");let e=await this.contract.methods.getStatData().call({});this.mintEnable=parseInt(e[8]+"");let t=await this.contract.methods.getStatData2().call({}),s=await this.contract.methods.getParam().call({});console.log(s,"paramold");let a=await this.contract.methods.getrefMap(this.userAddress).call({}),n=await this.contract.methods.getrefMap2(this.userAddress).call({}),c=await this.contract.methods.getrefMap3(this.userAddress).call({});console.log(c,"getrefMap3old");let r=await this.contract.methods.balanceOf(this.userAddress).call({}),i=await this.contract.methods.burnAmountR(this.userAddress).call({});this.burnAmountR=parseFloat(this.web3.utils.fromWei(i,"ether")),r=this.web3.utils.fromWei(r,"ether"),s[1]=this.web3.utils.fromWei(s[1],"ether"),s[2]=this.web3.utils.fromWei(s[2],"ether"),s[3]=s[3].toLowerCase(),s[4]=s[4].toLowerCase(),s[5]=this.web3.utils.fromWei(s[5],"ether"),s[6]=this.web3.utils.fromWei(s[6],"ether"),a[6]=this.web3.utils.fromWei(a[6],"ether"),a[5]=this.web3.utils.fromWei(a[5],"ether"),a[4]=this.web3.utils.fromWei(a[4],"ether"),a[4]=parseFloat(a[4]),t[0]=this.web3.utils.fromWei(t[0],"ether"),t[1]=this.web3.utils.fromWei(t[1],"ether"),n[5]=this.web3.utils.fromWei(n[5],"ether"),n[2]=parseInt(n[2]),n[1]=parseInt(n[1]),n[5]=parseFloat(n[5]),c[1]=this.web3.utils.fromWei(c[1],"ether"),c[1]=parseFloat(c[1]),c[2]=parseFloat(c[2]),this.mintAmount||(1==c[2]?this.mintAmount=this.mintAmounts0[0]:this.mintAmount=this.mintAmounts[1]),this.dataStat=e,this.dataStat2=t,this.param=s,this.getrefMap=a,this.getrefMap2=n,this.getrefMap3=c,this.tokenBalance=parseFloat(r),this.loaded||(this.loaded=!0,G["a"].hide()),console.log(this.dataStat,"dataStat:"),console.log(this.dataStat2,"dataStat2:"),console.log(this.param,"param:"),console.log(this.getrefMap,"this.getrefMap"),console.log(this.getrefMap2,"this.getrefMap2"),console.log(this.getrefMap3,"this.getrefMap3")}catch(e){console.error(e)}else console.error("Contract not initialized.")}}},X=(s("0c8f"),s("6b0d")),Y=s.n(X);const ee=Y()($,[["render",q]]);t["default"]=ee}}]);
//# sourceMappingURL=chunk-0f60adf4.1274137b.js.map