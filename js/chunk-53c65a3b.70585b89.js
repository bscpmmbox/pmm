(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53c65a3b"],{"60f9":function(e,t,s){"use strict";s("8250")},8250:function(e,t,s){},e869:function(e,t,s){"use strict";s.r(t);var a=s("7a23"),i=s("cac3"),c=s.n(i),l=s("ea90"),o=s.n(l);const r={class:"mePage"},n={class:"logo"},d={class:"lianjie"},h={key:0},b={key:1},u={key:2,class:"quan"},m=Object(a["m"])("img",{src:o.a,alt:"",srcset:""},null,-1),g=[m],j={class:"meMain"},O={class:"shengfen"},p={class:"topBox"},w={class:"tabs"},f=Object(a["m"])("span",{class:Object(a["y"])("")},null,-1),v={class:Object(a["y"])("active")},L={class:"shouyi"},y={class:"list"},A={class:"dessc"},F={class:"val"},k=Object(a["m"])("span",{style:{"font-size":"20px"}},"BNB",-1),C={class:"list",style:{"text-align":"right"}},M={class:"dessc"},Q={class:"val"},W=Object(a["m"])("span",{style:{"font-size":"20px"}},"BNB",-1),x={class:"list"},S={class:"dessc"},B={class:"val"},D={style:{"font-size":"20px"}},N={class:"list",style:{display:"flex","justify-content":"flex-end"}},I={class:"shouyi"},H={class:"list"},z={class:"dessc"},q={class:"val"},T={style:{"font-size":"20px"}},P=Object(a["m"])("div",{class:"list",style:{"text-align":"right"}},null,-1),R={class:"list"},J={class:"dessc"},V={class:"val"},$={style:{"font-size":"20px"}},_={class:"list",style:{"text-align":"right"}},E={class:"dessc"},G={class:"val"},K={style:{"font-size":"20px"}},U={class:"zhiboliu",style:{height:"100%"}},X=Object(a["m"])("div",{class:"libne"},null,-1),Y={class:"list"},Z={style:{"font-size":"26px","font-weight":"600"}},ee={class:"list",style:{"text-align":"right"}},te={style:{"font-size":"26px","font-weight":"600"}},se=Object(a["m"])("span",{style:{"font-size":"20px"}},"BNB",-1),ae={class:"descText"},ie=Object(a["m"])("div",{style:{height:"170px"}},null,-1);function ce(e,t,s,i,l,o){const m=Object(a["N"])("tab"),ce=Object(a["N"])("lang");return Object(a["H"])(),Object(a["l"])("div",r,[Object(a["m"])("div",n,[Object(a["m"])("img",{class:"logoImg",onClick:t[0]||(t[0]=e=>l.lanageShow=!0),src:c.a,alt:"",srcset:""}),Object(a["m"])("div",d,[l.userAddress?Object(a["k"])("",!0):(Object(a["H"])(),Object(a["l"])("span",h,Object(a["Q"])(l.Language[l.selectLan]["连接"]),1)),l.userAddress?(Object(a["H"])(),Object(a["l"])("span",b,Object(a["Q"])(l.userAddress.substring(0,10)+"..."+l.userAddress.substring(36)),1)):Object(a["k"])("",!0),l.userAddress?Object(a["k"])("",!0):(Object(a["H"])(),Object(a["l"])("div",u,g))])]),Object(a["m"])("div",j,[Object(a["m"])("div",O,[Object(a["m"])("div",p,[Object(a["m"])("div",w,[f,Object(a["m"])("span",v,Object(a["Q"])(l.getrefMap[3]?l.Language[l.selectLan]["身份Noder"]:l.Language[l.selectLan]["身份普通用户"]),1)]),Object(a["m"])("div",L,[Object(a["m"])("div",y,[Object(a["m"])("div",A,Object(a["Q"])(l.Language[l.selectLan]["累计燃烧收益"]),1),Object(a["m"])("div",F,[Object(a["p"])(Object(a["Q"])(l.getrefMap2[6].toFixed(4)),1),k])]),Object(a["m"])("div",C,[Object(a["m"])("div",M,Object(a["Q"])(l.Language[l.selectLan]["待分红"]),1),Object(a["m"])("div",Q,[Object(a["p"])(Object(a["Q"])(l.getrefMap[5].toFixed(4)),1),W])]),Object(a["m"])("div",x,[Object(a["m"])("div",S,Object(a["Q"])(l.Language[l.selectLan]["可领取分红"]),1),Object(a["m"])("div",B,[Object(a["p"])(Object(a["Q"])(l.viewDividAmount.toFixed(2)),1),Object(a["m"])("span",D,Object(a["Q"])(l.tokenName),1)])]),Object(a["m"])("div",N,[l.viewDividAmount>0?(Object(a["H"])(),Object(a["l"])("span",{key:0,class:"get",onClick:t[1]||(t[1]=(...e)=>o.dividMe&&o.dividMe(...e))},Object(a["Q"])(l.Language[l.selectLan]["领取"]),1)):Object(a["k"])("",!0),0==l.viewDividAmount?(Object(a["H"])(),Object(a["l"])("span",{key:1,class:"get",onClick:t[2]||(t[2]=(...e)=>o.viewDividAmount2&&o.viewDividAmount2(...e))},Object(a["Q"])(l.Language[l.selectLan]["查看"]),1)):Object(a["k"])("",!0)])]),Object(a["m"])("div",I,[Object(a["m"])("div",H,[Object(a["m"])("div",z,Object(a["Q"])(l.Language[l.selectLan]["累计已获得推广奖励"]),1),Object(a["m"])("div",q,[Object(a["p"])(Object(a["Q"])((l.getrefMap3[4]+l.getrefMap2[0]).toFixed(2)),1),Object(a["m"])("span",T,Object(a["Q"])(l.tokenName),1)])]),P,Object(a["m"])("div",R,[Object(a["m"])("div",J,Object(a["Q"])(l.Language[l.selectLan]["直推奖励"]),1),Object(a["m"])("div",V,[Object(a["p"])(Object(a["Q"])(l.getrefMap3[4].toFixed(2)),1),Object(a["m"])("span",$,Object(a["Q"])(l.tokenName),1)])]),Object(a["m"])("div",_,[Object(a["m"])("div",E,Object(a["Q"])(l.Language[l.selectLan]["Noder奖励"]),1),Object(a["m"])("div",G,[Object(a["p"])(Object(a["Q"])(l.getrefMap2[0].toFixed(2)),1),Object(a["m"])("span",K,Object(a["Q"])(l.tokenName),1)])])])])]),Object(a["m"])("div",U,[X,Object(a["m"])("div",Y,[Object(a["m"])("div",null,Object(a["Q"])(l.Language[l.selectLan]["直推燃烧地址数"]),1),Object(a["m"])("div",Z,[Object(a["p"])(Object(a["Q"])(l.getrefMap[1])+" ",1),l.showChildFlag?(Object(a["H"])(),Object(a["l"])("span",{key:0,onClick:t[3]||(t[3]=e=>o.showChild(!1)),style:{color:"#F5B22F"}},Object(a["Q"])(l.Language[l.selectLan]["隐藏"]),1)):Object(a["k"])("",!0),l.showChildFlag?Object(a["k"])("",!0):(Object(a["H"])(),Object(a["l"])("span",{key:1,onClick:t[4]||(t[4]=e=>o.showChild(!0)),style:{color:"#F5B22F"}},Object(a["Q"])(l.Language[l.selectLan]["显示"]),1))]),l.showChildFlag?(Object(a["H"])(!0),Object(a["l"])(a["b"],{key:0},Object(a["M"])(l.myChildAddress,(e,t)=>(Object(a["H"])(),Object(a["l"])("div",null,Object(a["Q"])(e.substring(0,10)+"..."+e.substring(36)),1))),256)):Object(a["k"])("",!0)]),Object(a["m"])("div",ee,[Object(a["m"])("div",null,Object(a["Q"])(l.Language[l.selectLan]["团队燃烧金额"]),1),Object(a["m"])("div",te,[Object(a["p"])(Object(a["Q"])(l.getrefMap3[6].toFixed(4)),1),se])])]),Object(a["m"])("div",ae,[Object(a["m"])("div",null,Object(a["Q"])(l.Language[l.selectLan]["long1"]),1),Object(a["m"])("div",null,Object(a["Q"])(l.Language[l.selectLan]["long2"]),1),Object(a["m"])("div",null,Object(a["Q"])(l.Language[l.selectLan]["long3"]),1),Object(a["m"])("div",null,Object(a["Q"])(l.Language[l.selectLan]["long4"]),1),Object(a["m"])("div",null,Object(a["Q"])(l.Language[l.selectLan]["long5"]),1)]),ie]),Object(a["q"])(m,{pageActive:1}),l.lanageShow?(Object(a["H"])(),Object(a["j"])(ce,{key:0,Language:l.Language,onCheckClose:o.checkClose,selectLan:l.selectLan,onSelectLanague:o.selectLanague},null,8,["Language","onCheckClose","selectLan","onSelectLanague"])):Object(a["k"])("",!0)])}s("14d9");var le=s("c0d8"),oe=s.n(le),re=s("aee1"),ne=s("f64c"),de=s("694c"),he=s("9fdc"),be=s("c2c4"),ue=s("c9d9"),me={components:{tab:he["a"],lang:ue["a"]},data(){return{actIndex:0,defaultProps:{children:"children",label:"label"},contractAddress:"0x1a1f03eca72e3e7dd15419e4e502d52f926c4e8b",networkId:56,userAddress:"",dataStat:[0,0,0,0,0,0,0,0,0,0,0,0,0],tokenName:"PMM",mintAmount:0,showChildFlag:!1,price:0,nodeCount:0,refBurnAmount:0,loaded:!1,refBurnAmountS:0,totalWhiteDividAmount:0,totalWhiteDividAmountS:0,viewDividAmount:0,address0:"0x0000000000000000000000000000000000000000",dataStat2:[0,0,0,0,0,0,0,0,0,0,0,0],dataStat3:[this.address0,this.address0,this.address0,0,0,0,0,0,0],getrefMap:[this.address0,0,0,0,0,0,0,0,0,0],getrefMap2:[0,0,0,0,0,0,0,0,0],getrefMap3:[0,0,0,0,0,0,0,0,0],param:[0,0,0,this.address0,this.address0,0,0,0,0,0],exchangeAmount:0,data2:{},bnbBalance:0,topAmount1:0,topAmount2:0,topAmount3:0,web3:{},myChildAddress:[],burnAmountR:0,Language:de,lanageShow:!1,selectLan:"en"}},created(){localStorage.getItem("language")&&(this.selectLan=localStorage.getItem("language")),this.connectBSC(!0);let e=this;this.interval=setInterval((function(){e.loadData()}),2e4)},destroyed(){this.interval&&clearInterval(this.interval)},methods:{checkClose(e){this.lanageShow=!1},selectLanague(e){this.selectLan=e,this.lanageShow=!1,localStorage.setItem("language",this.selectLan)},async showChild(e){this.showChildFlag=e,this.queryMyChild()},async queryMyChild(){this.myChildAddress=[];for(let e=0;e<this.getrefMap[1];e++){console.log("1111111111111111");let t=await this.contract.methods.childAddresses(this.userAddress,e).call({});console.log(t,"childAddresses"),this.myChildAddress.push(t)}ne["a"].success("query success!")},async viewDividAmount2(){let e=await this.getCurrentBlockTimestamp();e=parseFloat(e+"");for(let t=0;t<999;t++){let s=await this.contract.methods.burnBnbList(this.userAddress,t).call({});if(s=parseFloat(this.web3.utils.fromWei(s,"ether")),console.log(s,"burnBnbValue"),s>0){let a=await this.contract.methods.burnTimeList(this.userAddress,t).call({});a=parseFloat(a),e-a>this.param[9]&&(this.viewDividAmount=s*this.price)}}},async getCurrentBlockTimestamp(){try{const e=await this.web3.eth.getBlockNumber(),t=await this.web3.eth.getBlock(e),s=t.timestamp;return s}catch(e){console.error(e)}},async queryNodeCount(){for(let e=0;e<1e4;e++)await this.contract.methods.nodeAddresses(e).call({}),this.nodeCount++},back(){this.$router.replace("/?notTo=1")},mint(){if(!this.mintAmount)return void ne["a"].error("must amount!");if(this.mintAmount>this.param[2]||this.mintAmount<this.param[1])return void ne["a"].error("amount need "+this.param[1]+"-"+this.param[2]);if(parseFloat(this.getrefMap[4])+parseFloat(this.mintAmount)>this.param[2])return void ne["a"].error("mint max "+this.param[2]);const e=this.web3.utils.toWei(this.mintAmount,"ether");this.web3.eth.sendTransaction({from:this.userAddress,to:this.contractAddress,value:e},(e,t)=>{e?console.error(e):(ne["a"].error("error:"+t),console.log(t))})},max(){this.mintAmount=this.param[2]-this.getrefMap[4]},async connectBSC(e){let t=this;if(window.ethereum)try{window.ethereum.on("accountsChanged",(function(e){console.log("change address:",e[0]),t.connectBSC()})),console.log(window.ethereum,"window.ethereum");const s=await window.ethereum.request({method:"eth_requestAccounts"});console.log(s,"accounts"),this.web3=new oe.a(window.ethereum),this.userAddress=s[0].toLowerCase();let a=await this.web3.eth.getBalance(this.userAddress);this.bnbBalance=this.web3.utils.fromWei(a,"ether"),console.log(re,"MyContractABI");const i=await this.web3.eth.net.getId();i!=this.networkId&&ne["a"].error("err network，please select BNB chain"),this.contract=new this.web3.eth.Contract(re,this.contractAddress),this.connected=!0,this.loadData(e)}catch(s){console.error(s)}},async dividMe(){this.contract.methods.dividMe().send({from:this.userAddress}).on("transactionHash",e=>{ne["a"].success("submit success"),console.log("交易哈希:",e)}).on("receipt",e=>{console.log("交易收据:",e),ne["a"].success("transaction success"),this.loadData()}).on("error",e=>{console.error("交易失败:",e)})},async loadData(e){if(this.contract)try{this.loaded||be["a"].show("Loading");let t=await this.contract.methods.getStatData().call({}),s=await this.contract.methods.getStatData2().call({}),a=await this.contract.methods.getParam().call({}),i=await this.contract.methods.getrefMap(this.userAddress).call({}),c=await this.contract.methods.burnAmountR(this.userAddress).call({});this.burnAmountR=parseFloat(this.web3.utils.fromWei(c,"ether")),this.loaded||(this.loaded=!0,be["a"].hide()),console.log(this.getrefMap,"this.getrefMap"),a[1]=this.web3.utils.fromWei(a[1],"ether"),a[2]=this.web3.utils.fromWei(a[2],"ether"),a[3]=a[3].toLowerCase(),a[4]=a[4].toLowerCase(),a[5]=parseFloat(this.web3.utils.fromWei(a[5],"ether")),a[6]=this.web3.utils.fromWei(a[6],"ether"),a[9]=parseInt(a[9]),console.log(i[6],"getrefMap[6]"),i[6]=parseFloat(this.web3.utils.fromWei(i[6],"ether")),i[5]=parseFloat(this.web3.utils.fromWei(i[5],"ether")),i[4]=parseFloat(this.web3.utils.fromWei(i[4],"ether")),i[1]=parseInt(i[1]),i[2]=parseInt(i[2]),i[3]=parseInt(i[3]),console.log(i[6],"getrefMap[6]"),t[1]=parseFloat(this.web3.utils.fromWei(t[1],"ether")),t[6]=parseFloat(this.web3.utils.fromWei(t[6],"ether")),t[7]=parseFloat(this.web3.utils.fromWei(t[7],"ether")),t[2]=parseFloat(this.web3.utils.fromWei(t[2],"ether")),s[0]=parseFloat(this.web3.utils.fromWei(s[0],"ether")),s[1]=parseFloat(this.web3.utils.fromWei(s[1],"ether")),s[0]&&s[1]&&(this.price=parseFloat(s[0])/parseFloat(s[1])),s[3]=parseFloat(this.web3.utils.fromWei(s[3],"ether")),s[4]=parseFloat(this.web3.utils.fromWei(s[4],"ether")),s[5]=parseFloat(this.web3.utils.fromWei(s[5],"ether")),s[6]=parseFloat(this.web3.utils.fromWei(s[6],"ether")),s[7]=parseFloat(this.web3.utils.fromWei(s[7],"ether")),this.dataStat=t,this.dataStat2=s,this.param=a,this.getrefMap=i,console.log(this.dataStat,"dataStat:"),console.log(this.dataStat2,"dataStat2:"),console.log(this.param,"param:");let l=await this.contract.methods.getrefMap2(this.userAddress).call({});l[0]=parseFloat(this.web3.utils.fromWei(l[0],"ether")),l[1]=parseFloat(this.web3.utils.fromWei(l[1],"ether")),l[3]=parseFloat(this.web3.utils.fromWei(l[3],"ether")),l[6]=parseFloat(this.web3.utils.fromWei(l[6],"ether"));let o=await this.contract.methods.getrefMap3(this.userAddress).call({});o[3]=parseFloat(this.web3.utils.fromWei(o[3],"ether")),o[4]=parseFloat(this.web3.utils.fromWei(o[4],"ether")),o[6]=parseFloat(this.web3.utils.fromWei(o[6],"ether"));let r=await this.contract.methods.getStatData3().call({});console.log(this.dataStat3,"dataStat3:"),r[3]=parseFloat(this.web3.utils.fromWei(r[3],"ether")),r[4]=parseFloat(this.web3.utils.fromWei(r[4],"ether"));let n=await this.contract.methods.dividAmountMap(this.userAddress).call({});console.log(n,"dividAmountMap"),this.getrefMap2=l,this.getrefMap3=o,this.dataStat3=r,e&&(this.queryMyChild(),this.queryNodeCount())}catch(t){console.error(t)}else console.error("Contract not initialized.")}}},ge=(s("60f9"),s("6b0d")),je=s.n(ge);const Oe=je()(me,[["render",ce]]);t["default"]=Oe}}]);
//# sourceMappingURL=chunk-53c65a3b.70585b89.js.map